version: '3.8'

services:
  pubkey-searcher:
    build: .
    container_name: pubkey-searcher
    environment:
      # Maximum pattern length for duplicate prevention (Default: 7)
      # Patterns up to this length will only be saved once
      - MAX_PATTERN_LENGTH=7
      # Path to pattern file (Default: searchFor.txt)
      # - PATTERNS_FILE=searchFor.txt
    volumes:
      # Persistent storage for found keys
      - ./found_keys:/app/found_keys
      # Allows changes to searchFor.txt without rebuild
      - ./searchFor.txt:/app/searchFor.txt:ro
    # Use all available CPU cores
    cpus: "0"
    # Optional: Set memory limit
    # mem_limit: 2g
    restart: unless-stopped
    stdin_open: true
    tty: true
